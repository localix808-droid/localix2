<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Dashboard - Localix</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Localix</h2>
            <span class="logo-subtitle">For Small Business</span>
        </div>
        
        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="dashboard.html" class="nav-link">
                        <i class="fas fa-home"></i>
                        <span>Main Dashboard</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="#business-overview" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Business Insights</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#social-media" class="nav-link">
                        <i class="fas fa-share-alt"></i>
                        <span>Social Media</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#insights" class="nav-link" onclick="switchToSection('insights')">
                        <i class="fas fa-chart-pie"></i>
                        <span>Insights</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#consulting" class="nav-link" onclick="switchToSection('consulting')">
                        <i class="fas fa-users"></i>
                        <span>Consulting</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#saas-services" class="nav-link" onclick="switchToSection('saas-services')">
                        <i class="fas fa-cogs"></i>
                        <span>SaaS Services</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-details">
                    <h4>Business Owner</h4>
                    <p>Small Business</p>
                </div>
            </div>
            <button class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Header -->
        <header class="top-header">
            <div class="header-left">
                <button class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="business-info">
                    <h1>Joe's Barbershop</h1>
                    <p class="business-subtitle">Professional grooming services</p>
                </div>
            </div>
            
            <div class="header-right">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search business...">
                </div>
                
                <!-- Dark Mode Toggle -->
                <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="Toggle dark mode">
                    <i class="fas fa-sun sun-icon"></i>
                    <i class="fas fa-moon moon-icon"></i>
                </button>
                
                <div class="notifications">
                    <i class="fas fa-bell" onclick="toggleNotifications()"></i>
                    <span class="notification-badge">5</span>
                    
                    <!-- Notifications Dropdown -->
                    <div class="notifications-dropdown" id="notificationsDropdown">
                        <div class="notifications-header">
                            <h4>Notifications</h4>
                            <div class="notification-actions">
                                <button class="btn-icon" onclick="markAllAsRead()" title="Mark all as read">
                                    <i class="fas fa-check-double"></i>
                                </button>
                                <button class="btn-icon" onclick="clearAllNotifications()" title="Clear all">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="notifications-list">
                            <div class="notification-item unread" data-type="business">
                                <div class="notification-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="notification-content">
                                    <h5>New Appointment</h5>
                                    <p>John D. booked a haircut for tomorrow at 2:00 PM</p>
                                    <span class="notification-time">5 minutes ago</span>
                                </div>
                                <button class="btn-icon" onclick="markAsRead(this)">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>

                            <div class="notification-item unread" data-type="social">
                                <div class="notification-icon">
                                    <i class="fas fa-share-alt"></i>
                                </div>
                                <div class="notification-content">
                                    <h5>Social Media Post</h5>
                                    <p>Your Instagram post reached 150+ local customers</p>
                                    <span class="notification-time">1 hour ago</span>
                                </div>
                                <button class="btn-icon" onclick="markAsRead(this)">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>

                            <div class="notification-item unread" data-type="analytics">
                                <div class="notification-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="notification-content">
                                    <h5>Weekly Report</h5>
                                    <p>Revenue up 15% this week compared to last week</p>
                                    <span class="notification-time">2 hours ago</span>
                                </div>
                                <button class="btn-icon" onclick="markAsRead(this)">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>

                            <div class="notification-item" data-type="consulting">
                                <div class="notification-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="notification-content">
                                    <h5>Consulting Session</h5>
                                    <p>Your business consultant is available for a call</p>
                                    <span class="notification-time">1 day ago</span>
                                </div>
                                <button class="btn-icon" onclick="markAsRead(this)">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>

                            <div class="notification-item" data-type="system">
                                <div class="notification-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <div class="notification-content">
                                    <h5>System Update</h5>
                                    <p>New booking system features are now available</p>
                                    <span class="notification-time">2 days ago</span>
                                </div>
                                <button class="btn-icon" onclick="markAsRead(this)">
                                    <i class="fas fa-check"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="notifications-footer">
                            <a href="#" onclick="showAllNotifications()">View All Notifications</a>
                        </div>
                    </div>
                </div>
                
                <div class="user-menu">
                    <div class="user-avatar">
                        <span>JO</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </header>

        <!-- Business Dashboard Content -->
        <div class="dashboard-content">
            <!-- Business Overview Section -->
            <section id="business-overview" class="dashboard-section active">
                <div class="section-header">
                    <h2>Business Overview</h2>
                </div>

                <!-- Business Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-content">
                            <h3>$8,450</h3>
                            <p>This Week's Revenue</p>
                            <span class="stat-change positive">+15%</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-content">
                            <h3>47</h3>
                            <p>Appointments This Week</p>
                            <span class="stat-change positive">+8</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3>23</h3>
                            <p>New Customers</p>
                            <span class="stat-change positive">+12%</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-content">
                            <h3>4.8</h3>
                            <p>Average Rating</p>
                            <span class="stat-change positive">+0.2</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="actions-grid">
                        <button class="action-btn">
                            <i class="fas fa-calendar-plus"></i>
                            <span>Manage Appointments</span>
                        </button>
                        <button class="action-btn" onclick="switchToSection('social-media')">
                            <i class="fas fa-share-alt"></i>
                            <span>Social Media</span>
                        </button>
                        <button class="action-btn" onclick="switchToSection('insights')">
                            <i class="fas fa-chart-bar"></i>
                            <span>View Analytics</span>
                        </button>
                        <button class="action-btn" onclick="switchToSection('consulting')">
                            <i class="fas fa-users"></i>
                            <span>Get Consulting</span>
                        </button>
                        <button class="action-btn" onclick="switchToSection('saas-services')">
                            <i class="fas fa-cogs"></i>
                            <span>SaaS Services</span>
                        </button>
                        <button class="action-btn">
                            <i class="fas fa-cog"></i>
                            <span>Business Settings</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="recent-activity">
                    <h3>Recent Activity</h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="activity-content">
                                <h5>New Appointment Booked</h5>
                                <p>John D. scheduled a haircut for tomorrow at 2:00 PM - $25</p>
                                <span class="activity-time">5 minutes ago</span>
                            </div>
                        </div>

                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="activity-content">
                                <h5>New 5-Star Review</h5>
                                <p>Sarah M. left a glowing review: "Best haircut I've ever had!"</p>
                                <span class="activity-time">1 hour ago</span>
                            </div>
                        </div>

                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-share-alt"></i>
                            </div>
                            <div class="activity-content">
                                <h5>Social Media Success</h5>
                                <p>Your Instagram post about summer styles reached 150+ local customers</p>
                                <span class="activity-time">3 hours ago</span>
                            </div>
                        </div>

                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="activity-content">
                                <h5>New Customer</h5>
                                <p>Mike R. signed up for your newsletter and booked his first appointment</p>
                                <span class="activity-time">1 day ago</span>
                            </div>
                        </div>

                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="activity-content">
                                <h5>Revenue Milestone</h5>
                                <p>Weekly revenue exceeded $8,000 for the first time this month</p>
                                <span class="activity-time">2 days ago</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Business Insights -->
                <div class="business-insights">
                    <h3>Business Insights</h3>
                    <div class="insights-grid">
                        <div class="insight-card">
                            <div class="insight-header">
                                <i class="fas fa-chart-line"></i>
                                <h4>Revenue (Last 6 Weeks)</h4>
                            </div>
                            <canvas id="revChart"></canvas>
                        </div>

                        <div class="insight-card">
                            <div class="insight-header">
                                <i class="fas fa-user-plus"></i>
                                <h4>New Customers</h4>
                            </div>
                            <canvas id="custChart"></canvas>
                        </div>

                        <div class="insight-card">
                            <div class="insight-header">
                                <i class="fas fa-calendar-check"></i>
                                <h4>Appointments</h4>
                            </div>
                            <canvas id="apptChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Social Media Automation Section -->
            <section id="social-media" class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2>Social Media</h2>
                        <p>Connect your accounts and automate posts across platforms</p>
                    </div>
                </div>

                <div class="social-grid">
                    <!-- Connections -->
                    <div class="social-card">
                        <h3>Connected Accounts</h3>
                        <div class="accounts-list">
                            <div class="account-item connected">
                                <i class="fab fa-instagram"></i>
                                <div>
                                    <h4>Instagram</h4>
                                    <span>@joesbarbershop</span>
                                </div>
                                <span class="status-badge ok">Connected</span>
                                <button class="btn btn-secondary btn-sm disconnect-btn">Disconnect</button>
                            </div>
                            <div class="account-item">
                                <i class="fab fa-facebook"></i>
                                <div>
                                    <h4>Facebook Page</h4>
                                    <span>Not connected</span>
                                </div>
                                <span class="status-badge warn">Not connected</span>
                                <button class="btn btn-primary btn-sm connect-btn">Connect</button>
                            </div>
                            <div class="account-item">
                                <i class="fab fa-tiktok"></i>
                                <div>
                                    <h4>TikTok</h4>
                                    <span>Not connected</span>
                                </div>
                                <span class="status-badge warn">Not connected</span>
                                <button class="btn btn-primary btn-sm connect-btn">Connect</button>
                            </div>
                        </div>
                    </div>

                    <!-- Composer -->
                    <div class="social-card">
                        <h3>Create & Schedule Post</h3>
                        <form id="socialComposer" class="composer-form">
                            <div class="target-row">
                                <label>Post to</label>
                                <div class="platform-toggle" id="platformToggle">
                                    <label class="pill active" data-platform="instagram"><input type="checkbox" checked> <i class="fab fa-instagram"></i> Instagram</label>
                                    <label class="pill" data-platform="facebook"><input type="checkbox"> <i class="fab fa-facebook"></i> Facebook</label>
                                    <label class="pill" data-platform="tiktok"><input type="checkbox"> <i class="fab fa-tiktok"></i> TikTok</label>
                                </div>
                            </div>
                            <div class="tip-row">
                                <i class="fas fa-lightbulb"></i>
                                <span>Tip: Add 3-5 relevant hashtags and a clear call to action</span>
                            </div>
                            <textarea id="postText" rows="4" maxlength="2200" placeholder="Write your caption... Include @mentions and #hashtags"></textarea>
                            <div class="composer-meta">
                                <div class="hashtags" id="hashtagChips">
                                    <button type="button" class="hashtag-chip">#barbershop</button>
                                    <button type="button" class="hashtag-chip">#freshcut</button>
                                    <button type="button" class="hashtag-chip">#localbusiness</button>
                                    <button type="button" class="hashtag-chip">#fade</button>
                                    <button type="button" class="hashtag-chip">#style</button>
                                </div>
                                <span class="char-count" id="charCount">0/2200</span>
                            </div>
                            <div class="media-row">
                                <button type="button" class="btn btn-secondary" id="addMediaBtn"><i class="fas fa-image"></i> Add Media</button>
                                <input type="file" id="mediaInput" accept="image/*,video/*" multiple hidden>
                                <div class="media-preview" id="mediaPreview"></div>
                            </div>
                            <div class="schedule-row">
                                <label><input type="radio" name="when" value="now" checked> Post now</label>
                                <label><input type="radio" name="when" value="schedule"> Schedule</label>
                                <input type="datetime-local" id="scheduleTime" class="schedule-input" style="display:none;">
                                <small class="tz-hint">Local time</small>
                                <small class="best-time" id="bestTimeHint" style="display:none;">Best time: today 6:00 PM</small>
                            </div>
                            <div class="composer-actions">
                                <button type="submit" id="publishBtn" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Publish</button>
                                <button type="button" id="saveDraftBtn" class="btn btn-secondary"><i class="fas fa-save"></i> Save Draft</button>
                            </div>
                        </form>
                    </div>

                    <!-- Live Preview -->
                    <div class="social-card">
                        <h3>Post Preview</h3>
                        <div class="post-preview">
                            <div class="preview-header">
                                <div class="avatar">JB</div>
                                <div>
                                    <strong>Joe's Barbershop</strong>
                                    <div class="sub">@joesbarbershop • Now</div>
                                </div>
                            </div>
                            <div class="preview-media" id="previewMedia"></div>
                            <div class="preview-text" id="previewText">Your caption will appear here…</div>
                        </div>
                    </div>

                    <!-- Queue -->
                    <div class="social-card">
                        <h3>Scheduled Queue</h3>
                        <div id="queueList" class="queue-list empty">
                            <div class="empty-state">
                                <i class="fas fa-calendar-plus"></i>
                                <p>No scheduled posts yet</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Insights Tab with Charts -->
            <section id="insights" class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2>Business Insights</h2>
                        <p>Visualize key metrics to optimize your performance</p>
                    </div>
                </div>
                <div class="insights-grid">
                    <div class="insight-card">
                        <div class="insight-header">
                            <i class="fas fa-chart-line"></i>
                            <h4>Revenue (Last 12 Weeks)</h4>
                        </div>
                        <canvas id="insightsRevenue"></canvas>
                    </div>

                    <div class="insight-card">
                        <div class="insight-header">
                            <i class="fas fa-user-plus"></i>
                            <h4>New Customers</h4>
                        </div>
                        <canvas id="insightsCustomers"></canvas>
                    </div>

                    <div class="insight-card">
                        <div class="insight-header">
                            <i class="fas fa-star"></i>
                            <h4>Average Rating</h4>
                        </div>
                        <canvas id="insightsRating"></canvas>
                    </div>
                </div>
            </section>
            
            <!-- Consulting Chat Section -->
            <section id="consulting" class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2>Consulting</h2>
                        <p>Chat with a business consultant to get advice tailored to your shop</p>
                    </div>
                </div>

                <div class="chat-container">
                    <div class="chat-sidebar">
                        <div class="consultant-card">
                            <img src="https://ui-avatars.com/api/?name=Business+Consultant&background=4c84ff&color=fff" alt="Consultant">
                            <div>
                                <h4>Business Consultant</h4>
                                <p>Typically responds in 5 min</p>
                            </div>
                        </div>
                        <div class="chat-topics">
                            <h5>Quick Topics</h5>
                            <button class="topic-btn" data-template="How do I increase bookings on weekdays?">Increase Weekday Bookings</button>
                            <button class="topic-btn" data-template="What promotions work best for barbershops?">Best Promotions</button>
                            <button class="topic-btn" data-template="How to reduce no-shows effectively?">Reduce No-shows</button>
                            <button class="topic-btn" data-template="What KPIs should I track weekly?">Key KPIs</button>
                        </div>
                    </div>

                    <div class="chat-main">
                        <div class="chat-header">
                            <div class="chat-title">
                                <i class="fas fa-user-tie"></i>
                                <div>
                                    <h4>Consultant</h4>
                                    <span>Online</span>
                                </div>
                            </div>
                            <div class="chat-actions">
                                <button class="btn btn-secondary" id="endSessionBtn"><i class="fas fa-stop"></i> End</button>
                            </div>
                        </div>

                        <div class="chat-messages" id="chatMessages">
                            <div class="message bot">
                                <div class="bubble">
                                    Hi! I’m your Localix business consultant. Tell me about your goal and I’ll share actionable steps.
                                </div>
                                <span class="time">Just now</span>
                            </div>
                        </div>

                        <form class="chat-input" id="chatForm">
                            <input type="text" id="chatField" placeholder="Type your message..." autocomplete="off">
                            <button class="btn btn-primary" type="submit"><i class="fas fa-paper-plane"></i></button>
                        </form>
                    </div>
                </div>
            </section>
            <!-- SaaS Services Section -->
            <section id="saas-services" class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2>SaaS Services</h2>
                        <p>Website, booking, payments, inventory, CRM, and mobile apps for your business</p>
                    </div>
                </div>

                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-globe"></i></div>
                        <h3>Website Builder</h3>
                        <p>Launch a modern website with online booking and SEO best practices.</p>
                        <ul class="tool-features">
                            <li>Professional templates</li>
                            <li>Custom domain & SSL</li>
                            <li>SEO & analytics</li>
                        </ul>
                        <a href="new-business-project.html" class="btn btn-outline">Get Started</a>
                    </div>

                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-calendar-check"></i></div>
                        <h3>Online Booking</h3>
                        <p>Let customers book online and reduce no-shows with reminders.</p>
                        <ul class="tool-features">
                            <li>Calendar sync</li>
                            <li>SMS/email reminders</li>
                            <li>Staff scheduling</li>
                        </ul>
                        <a href="new-business-project.html" class="btn btn-outline">Enable Booking</a>
                    </div>

                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-cash-register"></i></div>
                        <h3>POS & Payments</h3>
                        <p>Accept payments in-store and online with unified reporting.</p>
                        <ul class="tool-features">
                            <li>Card & contactless</li>
                            <li>Invoices & receipts</li>
                            <li>Sales reports</li>
                        </ul>
                        <a href="new-business-project.html" class="btn btn-outline">Connect Payments</a>
                    </div>

                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-boxes"></i></div>
                        <h3>Inventory</h3>
                        <p>Track stock levels, suppliers, and get low-stock alerts.</p>
                        <ul class="tool-features">
                            <li>Variants & bundles</li>
                            <li>Purchase orders</li>
                            <li>Multi-location</li>
                        </ul>
                        <a href="new-business-project.html" class="btn btn-outline">Manage Inventory</a>
                    </div>

                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-user-friends"></i></div>
                        <h3>CRM & Loyalty</h3>
                        <p>Keep customers coming back with profiles, notes, and rewards.</p>
                        <ul class="tool-features">
                            <li>Customer profiles</li>
                            <li>Segments & tags</li>
                            <li>Loyalty points</li>
                        </ul>
                        <a href="new-business-project.html" class="btn btn-outline">Grow Loyalty</a>
                    </div>

                    <div class="tool-card">
                        <div class="tool-icon"><i class="fas fa-mobile-alt"></i></div>
                        <h3>Mobile App</h3>
                        <p>Offer a branded app for bookings, push notifications, and promos.</p>
                        <ul class="tool-features">
                            <li>iOS & Android</li>
                            <li>Push campaigns</li>
                            <li>Easy updates</li>
                        </ul>
                        <a href="new-business-project.html" class="btn btn-outline">Build My App</a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="dashboard.js"></script>
    <script src="dark-mode.js"></script>
    <script>
        // Business Dashboard specific JavaScript
        function toggleNotifications() {
            const dropdown = document.getElementById('notificationsDropdown');
            dropdown.classList.toggle('active');
        }

        function markAsRead(button) {
            const notificationItem = button.closest('.notification-item');
            notificationItem.classList.remove('unread');
            updateNotificationBadge();
        }

        function markAllAsRead() {
            document.querySelectorAll('.notification-item').forEach(item => {
                item.classList.remove('unread');
            });
            updateNotificationBadge();
        }

        function clearAllNotifications() {
            document.querySelectorAll('.notification-item').forEach(item => {
                item.remove();
            });
            updateNotificationBadge();
        }

        function updateNotificationBadge() {
            const unreadCount = document.querySelectorAll('.notification-item.unread').length;
            const badge = document.querySelector('.notification-badge');
            badge.textContent = unreadCount;
            
            if (unreadCount === 0) {
                badge.style.display = 'none';
            } else {
                badge.style.display = 'inline';
            }
        }

        function showAllNotifications() {
            // Navigate to full notifications page or show modal
            alert('View all notifications functionality coming soon!');
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateNotificationBadge();
        });
    </script>
</body>
</html>
